from selenium import webdriver
from selenium.webdriver.common.keys import Keys
from selenium.webdriver.chrome.options import Options
from selenium.common.exceptions import TimeoutException


def start_driver():
    chrome_options = Options()
    chrome_options.add_argument("--headless")
    chrome_options.add_argument("--no-sandbox")
    driver = webdriver.Chrome(options=chrome_options)
    driver.set_page_load_timeout(5)
    driver.set_script_timeout(5)

    return driver

def write_to_field(driver, field, text):
    try:
        element = driver.find_element_by_name(field)
        element.clear()
        element.send_keys(text)
    except TimeoutException as e:
        print("Timed out")
        raise e
    except Exception as e:
        raise e
    # finally:
    #     driver.close()